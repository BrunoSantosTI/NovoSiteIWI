<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Labirinto do ENIAC - Conecte o Cabo!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* Reset e configura√ß√µes b√°sicas */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3a 50%, #2d2d5f 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Header com position relative para controle de layout */
        .game-header {
            position: relative;
            text-align: center;
            padding: 20px 0;
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 2px solid #00ff88;
        }

        .header-container {
            position: relative;
            z-index: 10;
        }

        .game-title {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            font-weight: 900;
            color: #00ff88;
            text-shadow: 0 0 20px #00ff88;
            margin-bottom: 10px;
            position: relative;
        }

        .game-subtitle {
            font-size: 1.1rem;
            color: #cccccc;
            position: relative;
        }

        /* Container principal do jogo - position relative como base */
        .game-main {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Informa√ß√µes do jogo - position fixed para sempre vis√≠vel */
        .game-info {
            position: fixed;
            top: 120px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #00ff88;
            z-index: 100;
            min-width: 200px;
        }

        .score-display, .level-display, .timer-display {
            position: relative;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }

        .score-label, .level-label, .timer-label {
            color: #cccccc;
            font-weight: bold;
        }

        .score-value, .level-value, .timer-value {
            color: #00ff88;
            font-weight: bold;
            font-family: 'Orbitron', monospace;
        }

        /* Container do jogo - position relative para servir de refer√™ncia */
        .game-container {
            position: relative;
            width: 800px;
            height: 600px;
            margin: 20px auto;
            background: #1a1a2e;
            border: 3px solid #00ff88;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.3);
        }

        /* Labirinto - position relative para conter elementos absolutos */
        .maze {
            position: relative;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, #16213e 0%, #0f0f23 100%);
        }

        /* PAREDES - Uso extensivo de position absolute */
        .wall {
            position: absolute;
            background: linear-gradient(45deg, #333366, #4444aa);
            border: 2px solid #5555cc;
            box-shadow: inset 0 0 10px rgba(85, 85, 204, 0.5);
        }

        /* Paredes horizontais */
        .wall-horizontal {
            height: 20px;
            border-radius: 10px;
        }

        /* Paredes verticais */
        .wall-vertical {
            width: 20px;
            border-radius: 10px;
        }

        /* Blocos de parede */
        .wall-block {
            width: 60px;
            height: 60px;
            border-radius: 8px;
        }

        /* Posicionamento espec√≠fico das paredes usando position absolute */
        [data-wall="top-1"] {
            top: 50px;
            left: 100px;
            width: 200px;
        }

        [data-wall="top-2"] {
            top: 50px;
            left: 400px;
            width: 150px;
        }

        [data-wall="top-3"] {
            top: 50px;
            left: 650px;
            width: 100px;
        }

        [data-wall="left-1"] {
            top: 150px;
            left: 50px;
            height: 200px;
        }

        [data-wall="left-2"] {
            top: 400px;
            left: 50px;
            height: 150px;
        }

        [data-wall="right-1"] {
            top: 150px;
            right: 50px;
            height: 180px;
        }

        [data-wall="right-2"] {
            top: 380px;
            right: 50px;
            height: 170px;
        }

        [data-wall="block-1"] {
            top: 150px;
            left: 200px;
        }

        [data-wall="block-2"] {
            top: 150px;
            left: 350px;
        }

        [data-wall="block-3"] {
            top: 150px;
            left: 500px;
        }

        [data-wall="block-4"] {
            top: 300px;
            left: 150px;
        }

        [data-wall="block-5"] {
            top: 300px;
            left: 300px;
        }

        [data-wall="block-6"] {
            top: 300px;
            left: 450px;
        }

        [data-wall="block-7"] {
            top: 450px;
            left: 250px;
        }

        [data-wall="block-8"] {
            top: 450px;
            left: 400px;
        }

        /* COLET√ÅVEIS - position absolute para posicionamento preciso */
        .collectible {
            position: absolute;
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, #ffff00 0%, #ffaa00 100%);
            border-radius: 50%;
            box-shadow: 0 0 15px #ffff00;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
        }

        /* Posicionamento dos colet√°veis */
        [data-collectible="1"] { top: 120px; left: 120px; }
        [data-collectible="2"] { top: 120px; left: 320px; }
        [data-collectible="3"] { top: 120px; left: 520px; }
        [data-collectible="4"] { top: 220px; left: 180px; }
        [data-collectible="5"] { top: 220px; left: 380px; }
        [data-collectible="6"] { top: 370px; left: 200px; }
        [data-collectible="7"] { top: 370px; left: 350px; }
        [data-collectible="8"] { top: 370px; left: 500px; }
        [data-collectible="9"] { top: 520px; left: 180px; }
        [data-collectible="10"] { top: 520px; left: 420px; }

        /* PLAYER (CABO) - position absolute para movimento livre */
        .player {
            position: absolute;
            top: 80px;
            left: 80px;
            width: 30px;
            height: 30px;
            z-index: 50;
            transition: all 0.2s ease;
        }

        .cable-head {
            position: absolute;
            top: 0;
            left: 0;
            width: 30px;
            height: 30px;
            background: linear-gradient(45deg, #ff6b35, #ff8e53);
            border: 3px solid #ffffff;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.8);
        }

        .cable-head::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 8px;
            width: 6px;
            height: 6px;
            background: #ffffff;
            border-radius: 50%;
        }

        .cable-head::after {
            content: '';
            position: absolute;
            top: 8px;
            right: 8px;
            width: 6px;
            height: 6px;
            background: #ffffff;
            border-radius: 50%;
        }

        .cable-body {
            position: absolute;
            top: 25px;
            left: 12px;
            width: 6px;
            height: 15px;
            background: #333333;
            border-radius: 3px;
        }

        /* TOMADA (OBJETIVO) - position absolute para posicionamento final */
        .socket {
            position: absolute;
            bottom: 80px;
            right: 80px;
            width: 50px;
            height: 50px;
            z-index: 40;
        }

        .socket-holes {
            position: relative;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
            border: 3px solid #333333;
            border-radius: 8px;
            box-shadow: 0 0 25px rgba(0, 255, 136, 0.6);
        }

        .hole {
            position: absolute;
            background: #333333;
            border-radius: 50%;
        }

        .hole-1 {
            top: 12px;
            left: 12px;
            width: 8px;
            height: 8px;
        }

        .hole-2 {
            top: 12px;
            right: 12px;
            width: 8px;
            height: 8px;
        }

        .hole-3 {
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 6px;
            border-radius: 6px;
        }

        .socket-glow {
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: radial-gradient(circle, rgba(0, 255, 136, 0.3) 0%, transparent 70%);
            border-radius: 15px;
            animation: socketGlow 3s infinite;
        }

        @keyframes socketGlow {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        /* Controles - position relative para layout normal */
        .game-controls {
            position: relative;
            margin-top: 30px;
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #444444;
        }

        .controls-info h3 {
            color: #00ff88;
            margin-bottom: 15px;
            font-family: 'Orbitron', monospace;
        }

        .control-item {
            position: relative;
            display: inline-block;
            margin: 0 20px 10px 0;
        }

        .key {
            background: #333333;
            color: #ffffff;
            padding: 5px 10px;
            border-radius: 5px;
            font-family: 'Orbitron', monospace;
            font-weight: bold;
            margin-right: 10px;
        }

        .description {
            color: #cccccc;
        }

        /* Mensagem do jogo - position fixed para overlay */
        .game-message {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .game-message.hidden {
            display: none;
        }

        .message-content {
            position: relative;
            background: linear-gradient(135deg, #1a1a3a, #2d2d5f);
            padding: 40px;
            border-radius: 15px;
            border: 3px solid #00ff88;
            text-align: center;
            box-shadow: 0 0 50px rgba(0, 255, 136, 0.5);
        }

        .message-title {
            color: #00ff88;
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .message-text {
            color: #ffffff;
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        .message-button {
            background: linear-gradient(45deg, #00ff88, #00cc66);
            color: #000000;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .message-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.8);
        }

        /* Container de part√≠culas - position absolute para efeitos */
        .particles-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 30;
        }

        /* Footer - position relative para layout normal */
        .game-footer {
            position: relative;
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-top: 1px solid #444444;
            margin-top: 40px;
        }

        .game-footer p {
            color: #888888;
            font-size: 0.9rem;
        }

        /* Responsividade */
        @media (max-width: 900px) {
            .game-container {
                width: 90%;
                height: 500px;
            }
            
            .game-info {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 20px;
            }
            
            .game-title {
                font-size: 2rem;
            }
        }

        @media (max-width: 600px) {
            .game-container {
                height: 400px;
            }
            
            .control-item {
                display: block;
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <header class="game-header">
        <div class="header-container">
            <h1 class="game-title">üîå Labirinto do ENIAC</h1>
            <p class="game-subtitle">Conecte o cabo √† tomada navegando pelo labirinto!</p>
        </div>
    </header>

    <main class="game-main">
        <div class="game-info">
            <div class="score-display">
                <span class="score-label">Pontua√ß√£o:</span>
                <span id="score" class="score-value">0</span>
            </div>
            <div class="level-display">
                <span class="level-label">N√≠vel:</span>
                <span id="level" class="level-value">1</span>
            </div>
            <div class="timer-display">
                <span class="timer-label">Tempo:</span>
                <span id="timer" class="timer-value">60</span>s
            </div>
        </div>

        <div id="gameContainer" class="game-container">
            <!-- Labirinto ser√° gerado dinamicamente -->
            <div id="maze" class="maze">
                <!-- Paredes do labirinto -->
                <div class="wall wall-horizontal" data-wall="top-1"></div>
                <div class="wall wall-horizontal" data-wall="top-2"></div>
                <div class="wall wall-horizontal" data-wall="top-3"></div>
                <div class="wall wall-vertical" data-wall="left-1"></div>
                <div class="wall wall-vertical" data-wall="left-2"></div>
                <div class="wall wall-vertical" data-wall="right-1"></div>
                <div class="wall wall-vertical" data-wall="right-2"></div>
                <div class="wall wall-block" data-wall="block-1"></div>
                <div class="wall wall-block" data-wall="block-2"></div>
                <div class="wall wall-block" data-wall="block-3"></div>
                <div class="wall wall-block" data-wall="block-4"></div>
                <div class="wall wall-block" data-wall="block-5"></div>
                <div class="wall wall-block" data-wall="block-6"></div>
                <div class="wall wall-block" data-wall="block-7"></div>
                <div class="wall wall-block" data-wall="block-8"></div>
                
                <!-- Pontos colet√°veis (representando fios/conex√µes) -->
                <div class="collectible" data-collectible="1"></div>
                <div class="collectible" data-collectible="2"></div>
                <div class="collectible" data-collectible="3"></div>
                <div class="collectible" data-collectible="4"></div>
                <div class="collectible" data-collectible="5"></div>
                <div class="collectible" data-collectible="6"></div>
                <div class="collectible" data-collectible="7"></div>
                <div class="collectible" data-collectible="8"></div>
                <div class="collectible" data-collectible="9"></div>
                <div class="collectible" data-collectible="10"></div>
            </div>

            <!-- Player (cabo) -->
            <div id="player" class="player">
                <div class="cable-head"></div>
                <div class="cable-body"></div>
            </div>

            <!-- Objetivo (tomada) -->
            <div id="socket" class="socket">
                <div class="socket-holes">
                    <div class="hole hole-1"></div>
                    <div class="hole hole-2"></div>
                    <div class="hole hole-3"></div>
                </div>
                <div class="socket-glow"></div>
            </div>

            <!-- Efeitos visuais -->
            <div id="particles" class="particles-container"></div>
        </div>

        <div class="game-controls">
            <div class="controls-info">
                <h3>Controles:</h3>
                <div class="control-item">
                    <span class="key">‚Üë ‚Üì ‚Üê ‚Üí</span>
                    <span class="description">Mover o cabo</span>
                </div>
                <div class="control-item">
                    <span class="key">ESPA√áO</span>
                    <span class="description">Pausar/Continuar</span>
                </div>
                <div class="control-item">
                    <span class="key">R</span>
                    <span class="description">Reiniciar n√≠vel</span>
                </div>
            </div>
        </div>

        <div id="gameMessage" class="game-message hidden">
            <div class="message-content">
                <h2 id="messageTitle" class="message-title"></h2>
                <p id="messageText" class="message-text"></p>
                <button id="messageButton" class="message-button">Continuar</button>
            </div>
        </div>
    </main>

    <footer class="game-footer">
        <p>&copy; 2024 Labirinto do ENIAC - Conecte-se ao futuro da computa√ß√£o!</p>
    </footer>

    <script>
        // Elementos do DOM
        const player = document.getElementById("player");
        const socket = document.getElementById("socket");
        const gameContainer = document.getElementById("gameContainer");
        const scoreDisplay = document.getElementById("score");
        const levelDisplay = document.getElementById("level");
        const timerDisplay = document.getElementById("timer");
        const gameMessage = document.getElementById("gameMessage");
        const messageTitle = document.getElementById("messageTitle");
        const messageText = document.getElementById("messageText");
        const messageButton = document.getElementById("messageButton");
        const particlesContainer = document.getElementById("particles");

        // Estado do jogo
        let gameState = {
            playerX: 80,
            playerY: 80,
            score: 0,
            level: 1,
            timeLeft: 60,
            isPlaying: false,
            isPaused: false,
            collectiblesRemaining: 10,
            gameTimer: null,
            moveSpeed: 10
        };

        // Configura√ß√µes do labirinto
        const mazeConfig = {
            width: 800,
            height: 600,
            walls: [
                // Paredes horizontais
                { x: 100, y: 50, width: 200, height: 20 },
                { x: 400, y: 50, width: 150, height: 20 },
                { x: 650, y: 50, width: 100, height: 20 },
                
                // Paredes verticais
                { x: 50, y: 150, width: 20, height: 200 },
                { x: 50, y: 400, width: 20, height: 150 },
                { x: 730, y: 150, width: 20, height: 180 },
                { x: 730, y: 380, width: 20, height: 170 },
                
                // Blocos
                { x: 200, y: 150, width: 60, height: 60 },
                { x: 350, y: 150, width: 60, height: 60 },
                { x: 500, y: 150, width: 60, height: 60 },
                { x: 150, y: 300, width: 60, height: 60 },
                { x: 300, y: 300, width: 60, height: 60 },
                { x: 450, y: 300, width: 60, height: 60 },
                { x: 250, y: 450, width: 60, height: 60 },
                { x: 400, y: 450, width: 60, height: 60 }
            ]
        };

        // Inicializa√ß√£o do jogo
        function initGame() {
            resetPlayerPosition();
            updateDisplay();
            showMessage("üîå Labirinto do ENIAC", "Use as setas para mover o cabo at√© a tomada!<br>Colete os fios dourados para ganhar pontos!", "Iniciar Jogo");
            
            // Event listeners
            document.addEventListener("keydown", handleKeyPress);
            messageButton.addEventListener("click", handleMessageButton);
            
            console.log("Jogo inicializado!");
        }

        // Reset da posi√ß√£o do player
        function resetPlayerPosition() {
            gameState.playerX = 80;
            gameState.playerY = 80;
            updatePlayerPosition();
        }

        // Atualiza√ß√£o da posi√ß√£o visual do player
        function updatePlayerPosition() {
            player.style.left = gameState.playerX + "px";
            player.style.top = gameState.playerY + "px";
        }

        // Atualiza√ß√£o do display de informa√ß√µes
        function updateDisplay() {
            scoreDisplay.textContent = gameState.score;
            levelDisplay.textContent = gameState.level;
            timerDisplay.textContent = gameState.timeLeft;
        }

        // Manipula√ß√£o de teclas
        function handleKeyPress(event) {
            if (!gameState.isPlaying || gameState.isPaused) return;

            const key = event.key;
            let newX = gameState.playerX;
            let newY = gameState.playerY;

            // Preven√ß√£o do scroll da p√°gina
            if (["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight", " "].includes(key)) {
                event.preventDefault();
            }

            // Movimento
            switch (key) {
                case "ArrowUp":
                    newY = Math.max(0, gameState.playerY - gameState.moveSpeed);
                    break;
                case "ArrowDown":
                    newY = Math.min(mazeConfig.height - 30, gameState.playerY + gameState.moveSpeed);
                    break;
                case "ArrowLeft":
                    newX = Math.max(0, gameState.playerX - gameState.moveSpeed);
                    break;
                case "ArrowRight":
                    newX = Math.min(mazeConfig.width - 30, gameState.playerX + gameState.moveSpeed);
                    break;
                case " ":
                    togglePause();
                    return;
                case "r":
                case "R":
                    restartLevel();
                    return;
            }

            // Verifica√ß√£o de colis√£o com paredes
            if (!checkWallCollision(newX, newY)) {
                gameState.playerX = newX;
                gameState.playerY = newY;
                updatePlayerPosition();
                
                // Verifica√ß√µes ap√≥s movimento
                checkCollectibleCollection();
                checkSocketConnection();
            }
        }

        // Verifica√ß√£o de colis√£o com paredes
        function checkWallCollision(x, y) {
            const playerRect = {
                x: x,
                y: y,
                width: 30,
                height: 30
            };

            return mazeConfig.walls.some(wall => {
                return playerRect.x < wall.x + wall.width &&
                       playerRect.x + playerRect.width > wall.x &&
                       playerRect.y < wall.y + wall.height &&
                       playerRect.y + playerRect.height > wall.y;
            });
        }

        // Verifica√ß√£o de coleta de itens
        function checkCollectibleCollection() {
            const collectibles = document.querySelectorAll('.collectible:not(.collected)');
            const playerRect = {
                x: gameState.playerX,
                y: gameState.playerY,
                width: 30,
                height: 30
            };

            collectibles.forEach(collectible => {
                const rect = collectible.getBoundingClientRect();
                const containerRect = gameContainer.getBoundingClientRect();
                
                const collectibleRect = {
                    x: rect.left - containerRect.left,
                    y: rect.top - containerRect.top,
                    width: 12,
                    height: 12
                };

                if (playerRect.x < collectibleRect.x + collectibleRect.width &&
                    playerRect.x + playerRect.width > collectibleRect.x &&
                    playerRect.y < collectibleRect.y + collectibleRect.height &&
                    playerRect.y + playerRect.height > collectibleRect.y) {
                    
                    collectItem(collectible);
                }
            });
        }

        // Coleta de item
        function collectItem(collectible) {
            collectible.classList.add('collected');
            collectible.style.display = 'none';
            
            gameState.score += 100;
            gameState.collectiblesRemaining--;
            
            updateDisplay();
            createParticleEffect(gameState.playerX + 15, gameState.playerY + 15, '#ffff00');
            
            // Som de coleta (simulado com vibra√ß√£o visual)
            player.style.transform = 'scale(1.2)';
            setTimeout(() => {
                player.style.transform = 'scale(1)';
            }, 150);
        }

        // Verifica√ß√£o de conex√£o com a tomada
        function checkSocketConnection() {
            const socketRect = socket.getBoundingClientRect();
            const containerRect = gameContainer.getBoundingClientRect();
            const playerRect = {
                x: gameState.playerX,
                y: gameState.playerY,
                width: 30,
                height: 30
            };

            const socketGameRect = {
                x: socketRect.left - containerRect.left,
                y: socketRect.top - containerRect.top,
                width: 50,
                height: 50
            };

            if (playerRect.x < socketGameRect.x + socketGameRect.width &&
                playerRect.x + playerRect.width > socketGameRect.x &&
                playerRect.y < socketGameRect.y + socketGameRect.height &&
                playerRect.y + playerRect.height > socketGameRect.y) {
                
                completeLevel();
            }
        }

        // Completar n√≠vel
        function completeLevel() {
            gameState.isPlaying = false;
            clearInterval(gameState.gameTimer);
            
            // B√¥nus por tempo restante
            const timeBonus = gameState.timeLeft * 10;
            gameState.score += timeBonus;
            
            // B√¥nus por colet√°veis restantes
            const collectibleBonus = gameState.collectiblesRemaining * 50;
            gameState.score += collectibleBonus;
            
            updateDisplay();
            createParticleEffect(gameState.playerX + 15, gameState.playerY + 15, '#00ff88');
            
            // Pr√≥ximo n√≠vel
            gameState.level++;
            gameState.timeLeft = Math.max(45, 60 - (gameState.level * 5));
            gameState.moveSpeed = Math.min(15, 10 + gameState.level);
            
            showMessage(
                "üéâ Conex√£o Estabelecida!",
                `N√≠vel ${gameState.level - 1} completo!<br>` +
                `B√¥nus de tempo: ${timeBonus} pontos<br>` +
                `B√¥nus de colet√°veis: ${collectibleBonus} pontos<br>` +
                `Pontua√ß√£o total: ${gameState.score}`,
                "Pr√≥ximo N√≠vel"
            );
        }

        // Iniciar timer do jogo
        function startGameTimer() {
            gameState.gameTimer = setInterval(() => {
                if (!gameState.isPaused) {
                    gameState.timeLeft--;
                    updateDisplay();
                    
                    if (gameState.timeLeft <= 0) {
                        gameOver();
                    }
                }
            }, 1000);
        }

        // Game Over
        function gameOver() {
            gameState.isPlaying = false;
            clearInterval(gameState.gameTimer);
            
            showMessage(
                "‚ö° Tempo Esgotado!",
                `Conex√£o perdida!<br>` +
                `Pontua√ß√£o final: ${gameState.score}<br>` +
                `N√≠vel alcan√ßado: ${gameState.level}`,
                "Jogar Novamente"
            );
        }

        // Pausar/Despausar jogo
        function togglePause() {
            gameState.isPaused = !gameState.isPaused;
            
            if (gameState.isPaused) {
                showMessage("‚è∏Ô∏è Jogo Pausado", "Pressione ESPA√áO para continuar", "Continuar");
            } else {
                hideMessage();
            }
        }

        // Reiniciar n√≠vel
        function restartLevel() {
            gameState.isPlaying = false;
            clearInterval(gameState.gameTimer);
            
            // Reset do n√≠vel atual
            resetPlayerPosition();
            resetCollectibles();
            gameState.timeLeft = Math.max(45, 60 - (gameState.level * 5));
            
            updateDisplay();
            showMessage("üîÑ N√≠vel Reiniciado", "Tente novamente!", "Continuar");
        }

        // Reset dos colet√°veis
        function resetCollectibles() {
            const collectibles = document.querySelectorAll('.collectible');
            collectibles.forEach(collectible => {
                collectible.classList.remove('collected');
                collectible.style.display = 'block';
            });
            gameState.collectiblesRemaining = collectibles.length;
        }

        // Criar efeito de part√≠culas
        function createParticleEffect(x, y, color) {
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'absolute';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.width = '4px';
                particle.style.height = '4px';
                particle.style.background = color;
                particle.style.borderRadius = '50%';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '60';
                
                const angle = (i / 8) * Math.PI * 2;
                const velocity = 50;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                particlesContainer.appendChild(particle);
                
                let particleX = x;
                let particleY = y;
                let opacity = 1;
                
                const animateParticle = () => {
                    particleX += vx * 0.02;
                    particleY += vy * 0.02;
                    opacity -= 0.02;
                    
                    particle.style.left = particleX + 'px';
                    particle.style.top = particleY + 'px';
                    particle.style.opacity = opacity;
                    
                    if (opacity > 0) {
                        requestAnimationFrame(animateParticle);
                    } else {
                        particle.remove();
                    }
                };
                
                requestAnimationFrame(animateParticle);
            }
        }

        // Mostrar mensagem
        function showMessage(title, text, buttonText) {
            messageTitle.textContent = title;
            messageText.innerHTML = text;
            messageButton.textContent = buttonText;
            gameMessage.classList.remove('hidden');
        }

        // Esconder mensagem
        function hideMessage() {
            gameMessage.classList.add('hidden');
        }

        // Manipular bot√£o da mensagem
        function handleMessageButton() {
            hideMessage();
            
            if (!gameState.isPlaying) {
                startGame();
            }
        }

        // Iniciar jogo
        function startGame() {
            gameState.isPlaying = true;
            gameState.isPaused = false;
            resetCollectibles();
            startGameTimer();
            
            // Efeito de in√≠cio
            createParticleEffect(gameState.playerX + 15, gameState.playerY + 15, '#00ff88');
        }

        // Inicializa√ß√£o quando a p√°gina carrega
        document.addEventListener('DOMContentLoaded', () => {
            initGame();
        });

        console.log("Jogo do Labirinto ENIAC carregado!");
    </script>
</body>
</html>
